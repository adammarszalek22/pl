<CreateUser>
    name: 'CreateUser'

    MDFloatLayout:

        MDLabel:
            text: 'SIGN UP'
            bold: True
            font_size: "25sp"
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1] * 4
            pos_hint: {"center_x": 0.5, "top": 0.95}

        MDTextField:
            id: login
            icon_left: 'account'
            text: ''
            hint_text: 'Username'
            helper_text: ""
            helper_text_mode: "on_error"
            halign: 'left'
            size_hint_x: None
            width: root.width * 0.7
            pos_hint: {"center_x": 0.5, "top": 0.75}
        
        MDTextField:
            id: password
            icon_left: 'eye-off'
            text: ''
            hint_text: 'Password'
            halign: 'left'
            size_hint_x: None
            width: root.width * 0.7
            pos_hint: {"center_x": 0.5, "top": 0.65}
            password: True
            on_text_validate:
                root.do_they_match()
        
        MDTextField:
            id: password2
            icon_left: 'eye-off'
            text: ''
            hint_text: 'Confirm password'
            helper_text: "Passwords don't match."
            helper_text_mode: "on_error"
            halign: 'left'
            size_hint_x: None
            width: root.width * 0.7
            pos_hint: {"center_x": 0.5, "top": 0.55}
            password: True
            on_text_validate:
                root.do_create_user()
            on_focus:
                root.do_they_match(self)

        MDRectangleFlatButton:
            id: icon1
            pos_hint: {"x": (root.width * 0.15) / root.width, "center_y": password.center_y / root.height}
            md_bg_color: 0, 0, 0, 0
            line_color: 0, 0, 0, 0
            ripple_scale: 0
            size_hint_x: None
            width: dp(25)
            size_hint_y: None
            height: password.height * 0.75
            on_release:
                root.password()
        
        MDRectangleFlatButton:
            id: icon2
            pos_hint: {"x": (root.width * 0.15) / root.width, "center_y": password2.center_y / root.height}
            md_bg_color: 0, 0, 0, 0
            line_color: 0, 0, 0, 0
            ripple_scale: 0
            size_hint_x: None
            width: dp(25)
            size_hint_y: None
            height: password.height * 0.75
            on_release:
                root.password2()
        
        MDLabel:
            id: info
            font_size: "15sp"
            pos_hint: {"center_x": 0.5, "top": 0.45}
            size_hint: 0.7, None
            height: self.texture_size[1]

        MDFillRoundFlatButton:
            text: 'Sign up'
            size_hint_x: 0.6
            pos_hint: {'center_x': 0.5, "top": 0.4}
            on_release:
                root.do_create_user()

        MDLabel:

        MDSpinner:
            id: spinner
            size_hint: None, None
            size: dp(35), dp(35)
            pos_hint: {'center_x': .5, 'top': .3}
            active: False
            
        MDLabel:
            text: "Or"
            font_size: "13sp"
            color: 0.1, 0.1, 0.1, 0.7
            halign: "center"
            size_hint_y: None
            height: self.texture_size[1] * 1.5
            pos_hint: {"center_x": 0.5, "top": 0.20}
        
        MDFlatButton:
            text: 'LOG IN'
            bold: True
            size_hint_x: 0.6
            pos_hint: {"center_x": 0.5, "top": 0.17}
            on_release:
                root.manager.transition = NoTransition()
                app.root.current = 'LoginWindow'

        MDLabel: