#: include ./kv_others/buttons.kv
#: include ./kv_others/pl_table.kv
#: include ./kv_others/global_table.kv
#: include ./kv_others/submission_dialog.kv
#: include ./kv_others/bet_layout.kv
#: include ./kv_others/bet_layout2.kv

<MainWindow>
    name: 'MainWindow'

    MDBottomNavigation:
        id: bottom_nav

        MDBottomNavigationItem:
            name: 'Premier League Table'
            text: 'PL Table'
            icon: 'view-list'

            PL_LAYOUT:
                id: my_layout
                size: root.width, root.height
                padding: root.padding
                md_bg_color: 0, 1, 0, 0.1

        MDBottomNavigationItem:
            name: 'Post Bet'
            text: 'Predictions'
            icon: 'notebook-edit'

            BetLayout2:
                id: bet_layout
                size: root.width, root.height
                padding: root.padding
                md_bg_color: 0, 1, 0, 0.1

                MDFloatLayout:
                    id: float_layout
                    size_hint_y: 0.1
                    pos_hint: {"top": 0.1}
                    spacing: 40
                    padding: 20

                    MDFillRoundFlatButton:
                        text: 'Previous'
                        pos_hint: {"center_x": 0.15, "center_y": 0.5}
                        size_hint_x: 0.2
                        on_press:
                            root.previous_gameweek()
                            root.show_gameweek_games()

                    MDFillRoundFlatButton:
                        text: 'SUBMIT'
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        size_hint_x: None
                        width: root.width * 0.35
                        on_release:
                            root.submit()

                    MDFillRoundFlatButton:
                        text: 'Next'
                        pos_hint: {"center_x": 0.85, "center_y": 0.5}
                        size_hint_x: 0.2
                        on_press:
                            root.next_gameweek()
                            root.show_gameweek_games()

        MDBottomNavigationItem:
            name: 'Users Table'
            text: 'Table'
            icon: 'view-list'

            MDBoxLayout:
                id: main
                orientation: 'vertical'
                md_bg_color: 0, 1, 0, 0.1
                size_hint_y: 0.9
                pos_hint: {"top": 1}
                padding: root.padding

                MDGridLayout:
                    id: header
                    cols: 5
                    padding: 5
                    size_hint_y: None
                    height: root.height * 0.1

                    MDLabel:
                        text: "Position"
                        font_size: "12dp"

                    MDLabel:
                        text: "Username"
                        font_size: "12dp"

                    MDLabel:
                        text: "Points"
                        font_size: "12dp"

                    MDLabel:
                        text: "3-pointers"
                        font_size: "12dp"

                    MDLabel:
                        text: "1-pointers"
                        font_size: "12dp"

                MDGridLayout:
                    id: grid
                    cols: 5
                    padding: 5
            
            MDFloatLayout:
                id: float
                size_hint_y: 0.1
                pos_hint: {"top": 0.1}
                spacing: 40
                padding: 20
                md_bg_color: 0, 1, 0, 0.1

                MDFillRoundFlatButton:
                    text: 'Show full table'
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    size_hint_x: None
                    width: root.width * 0.35
                    on_press:
                        root.show_full()

        MDBottomNavigationItem:
            name: 'More'
            text: 'More'
            icon: 'more'

            MDBoxLayout:
                orientation: 'vertical'
                padding: 20
                spacing: 5
                md_bg_color: 0, 1, 0, 0.1

                MoreButton:
                    text: 'Groups'
                    icon: 'account-group'
                    size_hint_x: .4
                    size_hint_y: None
                    height: root.height / 10
                    halign: 'left'
                    on_release:
                        app.root.current = 'GroupsWindow'

                MoreButton:
                    text: 'View your score'
                    icon: 'account'
                    size_hint_x: .4
                    size_hint_y: None
                    height: root.height / 10
                    halign: 'left'
                    on_release:
                        app.root.current = 'ViewScoreWindow'
                
                MoreButton:
                    text: 'View other users\' scores'
                    icon: 'account-multiple-outline'
                    size_hint_x: .4
                    size_hint_y: None
                    height: root.height / 10
                    halign: 'left'
                    on_release:
                        app.root.current = 'ViewOtherScoreWindow'

                MoreButton:
                    text: 'Log out'
                    icon: 'logout'
                    size_hint_x: .4
                    size_hint_y: None
                    height: root.height / 10
                    halign: 'left'
                    on_release:
                        root.logout()
                
                MoreButton:
                    text: 'Delete my account'
                    icon: 'logout'
                    size_hint_x: .4
                    size_hint_y: None
                    height: root.height / 10
                    halign: 'left'
                    on_release:
                        root.delete_account()

                MDLabel:

                MDLabel:

                



